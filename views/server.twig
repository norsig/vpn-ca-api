# OpenVPN Server Configuration for {{ cn|e }}

dev tun

proto udp
# for providing IPv6 addresses to clients also mention udp6
#proto udp udp6

port 1194
tls-server
#mlock
server {{ network|e }} {{ netmask|e }}

# the IPv6 range to give to clients
#server-ipv6 2001:aaaa:bbbb:cccc::/64
#push "route-ipv6 2000::/3"

push "redirect-gateway def1 block-local"
topology subnet
comp-lzo
persist-key
persist-tun
verb 3
max-clients 100
keepalive 30 60
user openvpn
group openvpn
key-direction 0
auth SHA256
script-security 1
crl-verify /etc/openvpn/ca.crl

{% for nameserver in nameservers %}
push "dhcp-option DNS {{ nameserver|e }}"
{% endfor %}
push "dhcp-option DISABLE-NBT"
push "dhcp-option NTP {{ ntpserver|e }}"

<ca>
{{ ca|e }}
</ca>
<cert>
{{ cert|e }}
</cert>
<key>
{{ key|e }}
</key>
<dh>
{{ dh|e }}
</dh>
<tls-auth>
{{ ta|e }}
</tls-auth>
